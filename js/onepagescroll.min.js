function onePageScroll(f,l){var c=Object.extend({},{sectionContainer:"section",easing:"ease",animationTime:1E3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1},l),e=document.querySelector(f),h=document.querySelectorAll(c.sectionContainer),k=h.length,n=0,m="",d=document.querySelector("body");this.init=function(){_addClass(e,"onepage-wrapper");e.style.position="relative";for(var a=0;a<h.length;a++)_addClass(h[a],"ops-section"),h[a].dataset.index=a+
1,1==c.pagination&&(m+="<li><a data-index='"+(a+1)+"' href='#"+(a+1)+"'></a></li>");_swipeEvents(e);document.addEventListener("swipeDown",function(a){_hasClass(d,"disabled-onepage-scroll")||a.preventDefault();moveUp(e)});document.addEventListener("swipeUp",function(a){_hasClass(d,"disabled-onepage-scroll")||a.preventDefault();moveDown(e)});1==c.pagination&&(a=document.createElement("ul"),a.setAttribute("class","onepage-pagination"),d.appendChild(a),a.innerHTML=m,a=document.querySelector(".onepage-pagination").offsetHeight/
2*-1,document.querySelector(".onepage-pagination").style.marginTop=a);if(""!=window.location.hash&&"#1"!=window.location.hash){var a=window.location.hash.replace("#",""),b=document.querySelector(c.sectionContainer+"[data-index='"+a+"']"),p=b.dataset.index;_addClass(document.querySelector(c.sectionContainer+"[data-index='"+a+"']"),"active");_addClass(d,"viewing-page-"+a);1==c.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active");b&&(_addClass(b,"active"),
1==c.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active"),d.className=d.className.replace(/\bviewing-page-\d.*?\b/g,""),_addClass(d,"viewing-page-"+p),history.replaceState&&1==c.updateURL&&(b=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a,history.pushState({},document.title,b)));_transformPage(e,c,-100*(a-1),a)}else _addClass(document.querySelector(c.sectionContainer+"[data-index='1']"),"active"),_addClass(d,"viewing-page-1"),
1==c.pagination&&_addClass(document.querySelector(".onepage-pagination li a[data-index='1']"),"active");_paginationHandler=function(){moveTo(e,this.dataset.index)};if(1==c.pagination)for(b=document.querySelectorAll(".onepage-pagination li a"),a=0;a<b.length;a++)b[a].addEventListener("click",_paginationHandler);_mouseWheelHandler=function(a){a.preventDefault();var b=a.wheelDelta||-a.detail;_hasClass(d,"disabled-onepage-scroll")||_init_scroll(a,b)};document.addEventListener("mousewheel",_mouseWheelHandler);
document.addEventListener("DOMMouseScroll",_mouseWheelHandler);0!=c.responsiveFallback&&(window.onresize=function(){_responsive()},_responsive());_keydownHandler=function(a){var b=a.target.tagName.toLowerCase();if(!_hasClass(d,"disabled-onepage-scroll"))switch(a.which){case 38:"input"!=b&&"textarea"!=b&&moveUp(e);break;case 40:"input"!=b&&"textarea"!=b&&moveDown(e);break;default:return}return!1};1==c.keyboard&&(document.onkeydown=_keydownHandler);return!1};_swipeEvents=function(a){function b(a){var d=
a.touches;if(d&&d.length){a.preventDefault();var e=c-d[0].pageX,d=g-d[0].pageY;50<=e&&(a=new Event("swipeLeft"),document.dispatchEvent(a));-50>=e&&(a=new Event("swipeRight"),document.dispatchEvent(a));50<=d&&(a=new Event("swipeUp"),document.dispatchEvent(a));-50>=d&&(a=new Event("swipeDown"),document.dispatchEvent(a));(50<=Math.abs(e)||50<=Math.abs(d))&&document.removeEventListener("touchmove",b)}}var c,g;document.addEventListener("touchstart",function(a){(a=a.touches)&&a.length&&(c=a[0].pageX,g=
a[0].pageY,document.addEventListener("touchmove",b))})};_trim=function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};_hasClass=function(a,b){return a.className?a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)")):a.className=b};_addClass=function(a,b){_hasClass(a,b)||(a.className+=" "+b);a.className=_trim(a.className)};_removeClass=function(a,b){_hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," "));a.className=_trim(a.className)};_whichTransitionEvent=function(){var a,
b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]};_scrollTo=function(a,b,c){if(!(0>c)){var d=(b-a.scrollTop)/c*10;setTimeout(function(){a.scrollTop+=d;a.scrollTop!=b&&_scrollTo(a,b,c-10)},10)}};_transformPage=function(a,b,c,d,e){function f(){"function"==typeof b.afterMove&&b.afterMove(d,e);a.removeEventListener(h,f)}"function"==typeof b.beforeMove&&
b.beforeMove(d,e);a.style.cssText="-webkit-transform: translate3d(0, "+c+"%, 0); -webkit-transition: -webkit-transform "+b.animationTime+"ms "+b.easing+"; -moz-transform: translate3d(0, "+c+"%, 0); -moz-transition: -moz-transform "+b.animationTime+"ms "+b.easing+"; -ms-transform: translate3d(0, "+c+"%, 0); -ms-transition: -ms-transform "+b.animationTime+"ms "+b.easing+"; transform: translate3d(0, "+c+"%, 0); transition: transform "+b.animationTime+"ms "+b.easing+";";var h=_whichTransitionEvent();
a.addEventListener(h,f,!1)};_responsive=function(){document.body.clientWidth<c.responsiveFallback?(_addClass(d,"disabled-onepage-scroll"),document.removeEventListener("mousewheel",_mouseWheelHandler),document.removeEventListener("DOMMouseScroll",_mouseWheelHandler),_swipeEvents(e),document.removeEventListener("swipeDown"),document.removeEventListener("swipeUp")):(_hasClass(d,"disabled-onepage-scroll")&&(_removeClass(d,"disabled-onepage-scroll"),_scrollTo(document.documentElement,0,2E3)),_swipeEvents(e),
document.addEventListener("swipeDown",function(a){_hasClass(d,"disabled-onepage-scroll")||a.preventDefault();moveUp(e)}),document.addEventListener("swipeUp",function(a){_hasClass(d,"disabled-onepage-scroll")||a.preventDefault();moveDown(e)}),document.addEventListener("mousewheel",_mouseWheelHandler),document.addEventListener("DOMMouseScroll",_mouseWheelHandler))};_init_scroll=function(a,b){var d=(new Date).getTime();d-n<500+c.animationTime?a.preventDefault():(0>b?moveDown(e):moveUp(e),n=d)};this.moveDown=
function(a){"string"==typeof a&&(a=document.querySelector(a));var b=document.querySelector(c.sectionContainer+".active").dataset.index,e=document.querySelector(c.sectionContainer+"[data-index='"+b+"']"),g=document.querySelector(c.sectionContainer+"[data-index='"+(parseInt(b)+1)+"']");if(g)pos=-100*b;else if(1==c.loop)pos=0,g=document.querySelector(c.sectionContainer+"[data-index='1']");else return;var f=g.dataset.index;_removeClass(e,"active");_addClass(g,"active");1==c.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+
b+"']"),"active"),_addClass(document.querySelector(".onepage-pagination li a[data-index='"+f+"']"),"active"));d.className=d.className.replace(/\bviewing-page-\d.*?\b/g,"");_addClass(d,"viewing-page-"+f);history.replaceState&&1==c.updateURL&&(b=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(b)+1),history.pushState({},document.title,b));_transformPage(a,c,pos,f,g)};this.moveUp=function(a){"string"==typeof a&&(a=document.querySelector(a));var b=document.querySelector(c.sectionContainer+
".active").dataset.index,e=document.querySelector(c.sectionContainer+"[data-index='"+b+"']"),g=document.querySelector(c.sectionContainer+"[data-index='"+(parseInt(b)-1)+"']");if(g)pos=-100*(g.dataset.index-1);else if(1==c.loop)pos=-100*(k-1),g=document.querySelector(c.sectionContainer+"[data-index='"+k+"']");else return;var f=g.dataset.index;_removeClass(e,"active");_addClass(g,"active");1==c.pagination&&(_removeClass(document.querySelector(".onepage-pagination li a[data-index='"+b+"']"),"active"),
_addClass(document.querySelector(".onepage-pagination li a[data-index='"+f+"']"),"active"));d.className=d.className.replace(/\bviewing-page-\d.*?\b/g,"");_addClass(d,"viewing-page-"+f);history.replaceState&&1==c.updateURL&&(b=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(b)-1),history.pushState({},document.title,b));_transformPage(a,c,pos,f,g)};this.moveTo=function(a,b){"string"==typeof a&&(a=document.querySelector(a));var e=document.querySelector(c.sectionContainer+
".active"),g=document.querySelector(c.sectionContainer+"[data-index='"+b+"']");if(g){var f=g.dataset.index;_removeClass(e,"active");_addClass(g,"active");_removeClass(document.querySelector(".onepage-pagination li a.active"),"active");_addClass(document.querySelector(".onepage-pagination li a[data-index='"+b+"']"),"active");d.className=d.className.replace(/\bviewing-page-\d.*?\b/g,"");_addClass(d,"viewing-page-"+f);pos=-100*(b-1);history.replaceState&&1==c.updateURL&&(e=window.location.href.substr(0,
window.location.href.indexOf("#"))+"#"+(parseInt(b)-1),history.pushState({},document.title,e));_transformPage(a,c,pos,b,g)}};this.init()}Object.extend=function(f){if(null==f)return f;for(var l=1;l<arguments.length;l++){var c=arguments[l];if(null!=c)for(var e in c){var h=c.__lookupGetter__(e),k=c.__lookupSetter__(e);h||k?(h&&f.__defineGetter__(e,h),k&&f.__defineSetter__(e,k)):f[e]=c[e]}}return f};